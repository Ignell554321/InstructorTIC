"use strict";(self.webpackChunkapp_servicios_generales=self.webpackChunkapp_servicios_generales||[]).push([[138],{8760:(T,x,s)=>{s.d(x,{_:()=>f});var t=s(2517),C=s(8514),d=s(6267);class u{constructor(){this.q="",this.page=""}}var h=s(1223);let f=(()=>{class a{constructor(o){this.filter="",this.itemsPerPageDefault=5,this.searchField="",this.params=new u,this.itemsCount=0,this.itemsPage=1,this.itemsPerPage=4,this.query="",this.route=o.get(t.gz),this.router=o.get(t.F0),this.configService=o.get(C.E),this.itemsService=o.get(d.L),this.initialize()}initialize(){this.api=this.configService.config.api,this.url=this.configService.config.url+this.endpoint,this.readQueryParams()}readQueryParams(){this.route.queryParams.subscribe(o=>{this.params.q=o.q,void 0!==o.page&&(this.params.page=o.page,this.itemsPage=parseInt(this.params.page,10)),this.searchField=this.params.q,this.getItems()})}getItems(){this.loaded=!1,this.query=this.searchField,void 0!==this.endpoint&&this.itemsService.getItemsCount(this.api,this.url,this.query).subscribe(o=>{this.itemsCount=o.count,this.itemsPerPage<1&&(this.itemsPerPage=this.itemsPerPageDefault);const v=this.itemsPage,l=Math.ceil(this.itemsCount/this.itemsPerPage);v>=l&&(this.itemsPage=l),this.itemsService.getItems(this.api,this.url,this.itemsPerPage,this.itemsPage,this.query).subscribe(r=>{this.items=r,this.loaded=!0})})}writeQueryParams(o){let v=this.searchField;(""===v||void 0===v)&&(v="");const l="/"+this.linkRoute;let r="";this.itemsPage>1&&(r=this.itemsPage.toString()),this.params.q=v,this.params.page=r,this.router.navigate(["crud/"+l],{queryParams:this.params})}search(){this.query=this.searchField,this.writeQueryParams(),this.getItems()}changePage(o){this.itemsPage=o,this.writeQueryParams(),this.getItems()}selectItem(o){this.router.navigate(["/crud/"+this.link,o])}onChangePage(o){this.changePage(o)}onSearch(o){this.searchField=o,this.search()}}return a.\u0275fac=function(o){return new(o||a)(h.Y36(h.zs3))},a.\u0275cmp=h.Xpm({type:a,selectors:[["app-page-list"]],decls:0,vars:0,template:function(o,v){},styles:[""]}),a})()},6612:(T,x,s)=>{s.d(x,{Q:()=>c});var t=s(1223);class C{constructor(){}}let d=(()=>{class n{constructor(){}range(e,g,m){null==g&&(g=e||0,e=0),m||(m=g<e?-1:1);const _=Math.max(Math.ceil((g-e)/m),0),P=Array(_);for(let Z=0;Z<_;Z++,e+=m)P[Z]=e;return P}getPagination(e,g=1,m){const _=Math.ceil(e/m);let P,Z;g<1&&(g=1),g>_&&(g=1),_<=7?(P=1,Z=_):g<=7?(P=1,Z=7):g+1>=_?(P=_-7+1,Z=_,g<P&&(P=g+1,Z=g+1)):(Z=g,P=Z-7+1);const y=this.range(P,Z+1,1);let A=!1;_>7&&(A=!0);const I=new C;return I.pages=y,I.browser=A,I.total=_,I.current=g,I.perPage=m,I}}return n.\u0275fac=function(e){return new(e||n)},n.\u0275prov=t.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();var u=s(9808);const h=function(n){return{disabled:n}};function f(n,p){if(1&n){const e=t.EpF();t.TgZ(0,"li",5),t.TgZ(1,"a",6),t.NdJ("click",function(){return t.CHM(e),t.oxw(2).selectPage(1)}),t._uU(2,"\xab"),t.qZA(),t.qZA()}if(2&n){const e=t.oxw(2);t.Q6J("ngClass",t.VKq(1,h,1==e.pagination.current))}}function a(n,p){if(1&n){const e=t.EpF();t.TgZ(0,"li",5),t.TgZ(1,"a",7),t.NdJ("click",function(){t.CHM(e);const m=t.oxw(2);return m.selectPage(m.pagination.current-1)}),t._uU(2,"\u2039"),t.qZA(),t.qZA()}if(2&n){const e=t.oxw(2);t.Q6J("ngClass",t.VKq(1,h,1==e.pagination.current))}}const i=function(n){return{active:n}};function o(n,p){if(1&n){const e=t.EpF();t.TgZ(0,"li",5),t.TgZ(1,"a",7),t.NdJ("click",function(){const _=t.CHM(e).$implicit;return t.oxw(2).selectPage(_)}),t._uU(2),t.qZA(),t.qZA()}if(2&n){const e=p.$implicit,g=t.oxw(2);t.Q6J("ngClass",t.VKq(2,i,g.pagination.current==e)),t.xp6(2),t.Oqu(e)}}function v(n,p){if(1&n){const e=t.EpF();t.TgZ(0,"li",5),t.TgZ(1,"a",7),t.NdJ("click",function(){t.CHM(e);const m=t.oxw(2);return m.selectPage(m.pagination.current+1)}),t._uU(2,"\u203a"),t.qZA(),t.qZA()}if(2&n){const e=t.oxw(2);t.Q6J("ngClass",t.VKq(1,h,e.pagination.current==e.pagination.total))}}function l(n,p){if(1&n){const e=t.EpF();t.TgZ(0,"li",5),t.TgZ(1,"a",7),t.NdJ("click",function(){t.CHM(e);const m=t.oxw(2);return m.selectPage(m.pagination.total)}),t._uU(2,"\xbb"),t.qZA(),t.qZA()}if(2&n){const e=t.oxw(2);t.Q6J("ngClass",t.VKq(1,h,e.pagination.current==e.pagination.total))}}function r(n,p){if(1&n&&(t.TgZ(0,"nav",1),t.TgZ(1,"ul",2),t.YNc(2,f,3,3,"li",3),t.YNc(3,a,3,3,"li",3),t.YNc(4,o,3,4,"li",4),t.YNc(5,v,3,3,"li",3),t.YNc(6,l,3,3,"li",3),t.qZA(),t.qZA()),2&n){const e=t.oxw();t.xp6(2),t.Q6J("ngIf",e.pagination.browser),t.xp6(1),t.Q6J("ngIf",e.pagination.browser),t.xp6(1),t.Q6J("ngForOf",e.pagination.pages),t.xp6(1),t.Q6J("ngIf",e.pagination.browser),t.xp6(1),t.Q6J("ngIf",e.pagination.browser)}}let c=(()=>{class n{constructor(e){this.paginationService=e,this.changePage=new t.vpe,this.pagination=new C}ngOnInit(){}ngOnChanges(){this.pagination.count=this.count,this.pagination.perPage=this.perPage,this.pagination.page=this.page,this.pagination=this.paginationService.getPagination(this.pagination.count,this.pagination.page,this.pagination.perPage)}selectPage(e){this.changePage.emit(e)}}return n.\u0275fac=function(e){return new(e||n)(t.Y36(d))},n.\u0275cmp=t.Xpm({type:n,selectors:[["app-pagination"]],inputs:{count:"count",page:"page",perPage:"perPage"},outputs:{changePage:"changePage"},features:[t.TTD],decls:1,vars:1,consts:[["aria-label","pagination",4,"ngIf"],["aria-label","pagination"],[1,"pagination","d-flex","justify-content-center","pagination-sm"],["class","page-item",3,"ngClass",4,"ngIf"],["class","page-item",3,"ngClass",4,"ngFor","ngForOf"],[1,"page-item",3,"ngClass"],[1,"page-link","waves-effect","waves-effect",3,"click"],[1,"page-link",3,"click"]],template:function(e,g){1&e&&t.YNc(0,r,7,5,"nav",0),2&e&&t.Q6J("ngIf",g.pagination.pages&&g.pagination.pages.length)},directives:[u.O5,u.mk,u.sg],styles:[""]}),n})()},107:(T,x,s)=>{s.d(x,{u:()=>f});var t=s(9808),C=s(2517),d=s(1223);const u=[];let h=(()=>{class a{}return a.\u0275fac=function(o){return new(o||a)},a.\u0275mod=d.oAB({type:a}),a.\u0275inj=d.cJS({imports:[[C.Bz.forChild(u)],C.Bz]}),a})(),f=(()=>{class a{}return a.\u0275fac=function(o){return new(o||a)},a.\u0275mod=d.oAB({type:a}),a.\u0275inj=d.cJS({imports:[[t.ez,h]]}),a})()},1210:(T,x,s)=>{s.d(x,{N:()=>u});var t=s(1223),C=s(2382);const d=["edit"];let u=(()=>{class h{constructor(){this.search=new t.vpe}searching(){this.search.emit(this.edit.nativeElement.value)}}return h.\u0275fac=function(a){return new(a||h)},h.\u0275cmp=t.Xpm({type:h,selectors:[["app-search-bar"]],viewQuery:function(a,i){if(1&a&&t.Gf(d,5),2&a){let o;t.iGM(o=t.CRH())&&(i.edit=o.first)}},inputs:{searchField:"searchField",placeholder:"placeholder",results:"results",itemsCount:"itemsCount",icon:"icon"},outputs:{search:"search"},decls:18,vars:4,consts:[[1,"row"],[1,"col"],[1,"ml-4"],[1,"d-flex","pt-2"],[1,"d-flex","me-auto"],["type","text","name","searchField",1,"form-control","me-2",3,"ngModel","placeholder"],["edit",""],["type","button",1,"btn","btn-nga-primary","btn-sm","btn-nga",3,"click"],[1,"fa","fa-search"],[1,"d-flex","me-auto","d-none","d-md-block"],[1,"pt-2","ml-4"],[2,"color","gray"],[2,"color","#e0e0e0"]],template:function(a,i){1&a&&(t.TgZ(0,"div",0),t.TgZ(1,"div",1),t.TgZ(2,"span",2),t.TgZ(3,"strong"),t._uU(4,"Feature"),t.qZA(),t.qZA(),t.TgZ(5,"div",3),t.TgZ(6,"div",4),t._UZ(7,"input",5,6),t.TgZ(9,"button",7),t.NdJ("click",function(){return i.searching()}),t._UZ(10,"i",8),t.qZA(),t.qZA(),t.TgZ(11,"div",9),t.TgZ(12,"div",10),t.TgZ(13,"b"),t.TgZ(14,"span",11),t._uU(15),t.qZA(),t.qZA(),t.TgZ(16,"span",12),t._uU(17,"( 0.432 ms )"),t.qZA(),t.qZA(),t.qZA(),t.qZA(),t.qZA(),t.qZA()),2&a&&(t.xp6(7),t.s9C("placeholder",i.placeholder),t.Q6J("ngModel",i.searchField),t.xp6(8),t.AsE("",i.itemsCount," ",i.results,""))},directives:[C.Fj,C.JJ,C.On],styles:[".btn-nga[_ngcontent-%COMP%]{box-shadow:0 2px 5px #00000029,0 2px 10px #0000001f;padding:.5rem;font-size:.81rem;border:0;border-radius:.125rem}.btn-nga[_ngcontent-%COMP%]:hover, .btn-nga[_ngcontent-%COMP%]:active, .btn-nga[_ngcontent-%COMP%]:focus{box-shadow:0 5px 11px #0000002e,0 4px 15px #00000026;outline:0}.btn-nga-primary[_ngcontent-%COMP%]{border:2px solid #4285f4!important;color:#4285f4!important;background-color:transparent!important}"]}),h})()},3412:(T,x,s)=>{s.d(x,{B:()=>a});var t=s(9808),C=s(2382),d=s(2517),u=s(1223);const h=[];let f=(()=>{class i{}return i.\u0275fac=function(v){return new(v||i)},i.\u0275mod=u.oAB({type:i}),i.\u0275inj=u.cJS({imports:[[d.Bz.forChild(h)],d.Bz]}),i})(),a=(()=>{class i{}return i.\u0275fac=function(v){return new(v||i)},i.\u0275mod=u.oAB({type:i}),i.\u0275inj=u.cJS({imports:[[t.ez,f,C.u5]]}),i})()},1998:(T,x,s)=>{s.d(x,{B:()=>d});var t=s(1223),C=s(2517);let d=(()=>{class u{constructor(f){this.router=f}createItem(){this.router.navigate(["/crud/"+this.link,0])}}return u.\u0275fac=function(f){return new(f||u)(t.Y36(C.F0))},u.\u0275cmp=t.Xpm({type:u,selectors:[["app-search-result"]],inputs:{searchField:"searchField",creation:"creation",found:"found",link:"link"},decls:20,vars:3,consts:[[1,"card","mb-4","text-center"],[1,"card-body"],["src","./assets/params/images/logo/dharma.png","height","70","width","70"],[1,"card-text","mt-3"],[1,"card-title","font-weight-bold","text-primary"],[1,"blockquote"],[1,"text-left","text-primary"],[1,"text-left"],[1,"text-left","text-info"],["type","button",1,"font-weight-bold","btn","btn-outline-info","btn-sm","mt-4",3,"click"],[1,"fas","fa-plus","fa-lg","mr-2"]],template:function(f,a){1&f&&(t.TgZ(0,"div",0),t.TgZ(1,"div",1),t._UZ(2,"img",2),t.TgZ(3,"p",3),t._uU(4),t.qZA(),t.TgZ(5,"h6",4),t._uU(6),t.qZA(),t.TgZ(7,"blockquote",5),t.TgZ(8,"p",6),t._uU(9,"Suggestions"),t.qZA(),t.TgZ(10,"h6",7),t._uU(11,"Try other keywords"),t.qZA(),t.TgZ(12,"h6",7),t._uU(13,"Delete search filters"),t.qZA(),t._UZ(14,"hr"),t.TgZ(15,"h6",8),t._uU(16,"Create new Item"),t.qZA(),t.TgZ(17,"button",9),t.NdJ("click",function(){return a.createItem()}),t._UZ(18,"i",10),t._uU(19),t.qZA(),t.qZA(),t.qZA(),t.qZA()),2&f&&(t.xp6(4),t.hij("No ",a.found," matches the specified search terms"),t.xp6(2),t.hij(" ",a.searchField," "),t.xp6(13),t.hij("Create ",a.creation," "))},styles:[".card[_ngcontent-%COMP%]{display:block;background-color:#fffc;box-shadow:0 1px 3px #0000001f,0 1px 2px #0000003d;border-radius:2px;transition:all .2s ease-in-out;cursor:pointer}.card[_ngcontent-%COMP%]:hover{box-shadow:0 10px 20px #00000030,0 6px 6px #0000003b}blockquote[_ngcontent-%COMP%]{border-left:3px solid #4285F4;margin:10px;padding:10px 20px}"]}),u})()},2645:(T,x,s)=>{s.d(x,{p:()=>a});var t=s(9808),C=s(2382),d=s(2517),u=s(1223);const h=[];let f=(()=>{class i{}return i.\u0275fac=function(v){return new(v||i)},i.\u0275mod=u.oAB({type:i}),i.\u0275inj=u.cJS({imports:[[d.Bz.forChild(h)],d.Bz]}),i})(),a=(()=>{class i{}return i.\u0275fac=function(v){return new(v||i)},i.\u0275mod=u.oAB({type:i}),i.\u0275inj=u.cJS({imports:[[t.ez,f,C.u5]]}),i})()},6267:(T,x,s)=>{s.d(x,{L:()=>i});var t=s(520),C=s(9646),d=s(8505),u=s(262),h=s(4004),f=s(1223);const a={headers:new t.WM({"Content-Type":"application/json"})};let i=(()=>{class o{constructor(l){this.http=l}filterJsonItem(l,r){let c=null;return l.map((n,p,e)=>{const g=parseInt(r,10);e[p].id===g&&(c=e[p])}),c}filterJsonItemsCount(l,r){let c=0;if(void 0!==r&&null!=r){const n=r.toString().toLowerCase();c=l.filter(e=>0===e.name.toLowerCase().indexOf(n)).length}else c=l.length;return{count:c}}filterJsonItems(l,r,c,n){let p;if(void 0!==r&&null!=r){const _=r.toString().toLowerCase();p=l.filter(P=>0===P.name.toLowerCase().indexOf(_))}else p=l;const e=c*(n-1),g=c*(n-1)+c-1,m=[];return p.map((_,P)=>{P>=e&&P<=g&&m.push(p[P])}),m}getItemsCount(l,r,c){let n="";void 0!==c&&""!==c&&null!==c&&(n="?q="+c);const p=(r+=l?"/count":".json")+n;let e;return e=l?this.http.get(p).pipe((0,d.b)(g=>this.log("fetched items")),(0,u.K)(this.handleError("getItems",[]))):this.http.get(p).pipe((0,h.U)(g=>this.filterJsonItemsCount(g,c)),(0,u.K)(this.handleError("getItems",[]))),e}getItems(l,r,c,n,p){l||(r+=".json");let e="";if(void 0!==c||void 0!==n||void 0!==p){let _,P;_=c,P=0,0===n&&(n=1),void 0!==n&&(P=(n-1)*c),void 0!==p&&""!==p&&null!==p&&(e="?q="+p),e=""!==e?e+"&limit="+_+"&offset="+P:"?limit="+_+"&offset="+P}const g=r+e;let m;return m=l?this.http.get(g).pipe((0,u.K)(this.handleError("getItems",[]))):this.http.get(g).pipe((0,h.U)(_=>this.filterJsonItems(_,p,c,n)),(0,u.K)(this.handleError("getItems",[]))),m}getItem(l,r,c){l||(r+=".json");let n={};return void 0!==c&&(n=l?this.http.get(r+"/"+c).pipe((0,d.b)(e=>this.log(`fetched item id=${c}`)),(0,u.K)(this.handleError(`getItem id=${c}`))):this.http.get(r).pipe((0,h.U)(e=>this.filterJsonItem(e,c)),(0,u.K)(this.handleError("getItems",[])))),n}addItem(l,r){const c=JSON.stringify(r);return this.http.post(l,c,a).pipe((0,d.b)(n=>this.log(`added item w/ id=${r.id}`)),(0,u.K)(this.handleError("addItem")))}updateItem(l,r,c){return this.http.put(c+"/"+r,l,a).pipe((0,d.b)(p=>this.log("updated item id=id")),(0,u.K)(this.handleError("updateItem")))}deleteItem(l,r){return this.http.delete(l+"/"+r,a).pipe((0,d.b)(n=>this.log(`deleted item id=${r}`)),(0,u.K)(this.handleError("deleteItem")))}handleError(l="operation",r){return c=>(console.error(c),this.log(`${l} failed: ${c.message}`),(0,C.of)(r))}log(l){}}return o.\u0275fac=function(l){return new(l||o)(f.LFG(t.eN))},o.\u0275prov=f.Yz7({token:o,factory:o.\u0275fac,providedIn:"root"}),o})()}}]);